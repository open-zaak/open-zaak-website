{
    "componentChunkName": "component---src-templates-default-js",
    "path": "/en/news/2021-04-16-codecov-security-update/",
    "result": {"data":{"markdownRemark":{"frontmatter":{"title":"Codecov security update: Open Zaak not affected"},"html":"<h2>Codecov security update: Open Zaak is not affected</h2>\n<p>On April 15th, we were informed by Codecov that they had a security incident that\npossibly affected Open Zaak repositories. We have checked our repositories and verified\nthat everything is as expected.</p>\n<p>Unless you are using the <code class=\"language-text\">latest</code> image tag of Open Zaak\nor Open Notificaties Docker Hub images, <strong>no action is required</strong>. If you <em>do</em> use the <code class=\"language-text\">latest</code>\ntag in any of those images, <em>and</em> those images are old enough to no longer have build logs, then\nour advice is to pull these images again. There is no indication that they have been compromised,\nbut we cannot guarantee this because of the nature of how Docker Hub operates.</p>\n<p>Below, you can find a detailed breakdown of the security incident at Codecov, how it\npossibly impacted Open Zaak projects and how we verified that we were not impacted by\nthis.</p>\n<h3>Codecov and their security incident</h3>\n<p>Codecov is a tool used in Open Zaak, Open Notificaties and the CMIS adapter used to\ntrack and visualize code coverage statistics. During the process of automatically\ntesting these codebases, statistics are collected on which lines of code are hit,\npartially hit or missed during the test runs. Divided by the number of total lines in\nthe code base, you arrive at a coverage percentage.</p>\n<p>The collection of statistics is performed as part of our automated\n<a href=\"https://github.com/open-zaak/open-zaak/blob/main/.github/workflows/ci.yml\">Continuous Integration</a>\npipeline on Github. The raw statistics are uploaded to Codecov's infrastructure using\ntheir Github Action, which in turn uses the \"global bash uploader\" hosted on Codecov's\nwebsite.</p>\n<p>It is this bash script that was altered by an unauthorized third party, and actively\nused to exfiltrate access tokens from Github Action workflows to third party servers.\nFor more details, please read the detailed\n<a href=\"https://about.codecov.io/security-update/\">statement</a> from Codecov.</p>\n<p>This exfiltration was possible from the beginning of January 2021, until April 2021.</p>\n<h3>Impact on the Open Zaak projects</h3>\n<p>Codecov is used in four projects:</p>\n<ul>\n<li>Open Zaak</li>\n<li>Open Notificaties</li>\n<li>CMIS adapter</li>\n<li>vng-selectielijst</li>\n</ul>\n<p>The Open Zaak, Open Notificaties and VNG-Selectielijst projects automatically publish\nDocker Images to Docker Hub after a succesful build on either the main branch or tagged\nreleases. CMIS Adapter is automatically published to the\n<a href=\"http://pypi.org/\">Python Packaging index</a> on tagged releases.</p>\n<p>To be able to do this, credentials are provided to the Github Workflow context in the\nform of organization and/or repository secrets. The modified Codecov bash uploader\nwas able to extract these credentials outside of the workflow scope.</p>\n<p>The impact per project is summarized below.</p>\n<p><strong>Open Zaak</strong></p>\n<p>Open Zaak uses the Github Action, and is therefore affected. However, we know that\nduring a CI run, the code is checked out from the repository and remained trusted code.\nFrom this code, a Docker image is produced which has a sha256 checksum. The checksum\nreported in Github Workflows log is the trusted, uncompromised checksum.</p>\n<p><em>If</em> an attacker would overwrite the image tag using the extracted token, this would\nhappen after the build finishes, and the image would have a different checksum.</p>\n<p>We verified the checksums for Open Zaak releases between Jan. 1st and April 1st:</p>\n<ul>\n<li>\n<p><a href=\"https://github.com/open-zaak/open-zaak/runs/1838882241?check_suite_focus=true\">1.3.4</a></p>\n<p>CI produced the <code class=\"language-text\">fe10bb4f402119d4b4073388bd60cacca4cea3964ad2c95c4f3507bdb6c377ad</code> checksum,\nand on <a href=\"https://hub.docker.com/layers/openzaak/open-zaak/1.3.4/images/sha256-fe10bb4f402119d4b4073388bd60cacca4cea3964ad2c95c4f3507bdb6c377ad?context=repo\">Docker Hub</a> we find\nthe same checksum.</p>\n</li>\n<li>\n<p><a href=\"https://github.com/open-zaak/open-zaak/runs/2194702452?check_suite_focus=true\">1.3.5</a></p>\n<p>CI produced the <code class=\"language-text\">f83a8e33eb6572e196721914a999fff3eca1ef9b742499fbdebe91780491d87c</code> checksum,\nand on <a href=\"https://hub.docker.com/layers/openzaak/open-zaak/1.3.5/images/sha256-f83a8e33eb6572e196721914a999fff3eca1ef9b742499fbdebe91780491d87c?context=repo\">Docker Hub</a> we find\nthe same checksum.</p>\n</li>\n</ul>\n<p>For people using the <code class=\"language-text\">latest</code> image tag, you can verify this manually. The <code class=\"language-text\">master</code> (past)\nand <code class=\"language-text\">main</code> (present) branches map to the <code class=\"language-text\">latest</code> image tag. CI run logs can be seen\non <a href=\"https://github.com/open-zaak/open-zaak/actions?query=branch%3Amain\">Github</a>. Note\nthat CI logs older than three months are no longer available, which is why we recommend\nto re-pull the <code class=\"language-text\">latest</code> tag to be sure.</p>\n<p><strong>Open Notificaties</strong></p>\n<p>The situation for Open Notificaties is similar to Open Zaak above.</p>\n<p>The relevant releases are:</p>\n<ul>\n<li>\n<p><a href=\"https://github.com/open-zaak/open-notificaties/runs/2131685805?check_suite_focus=true\">1.1.3</a></p>\n<p>CI produced the <code class=\"language-text\">47d001e89b904a1d4450b0d165c072289ba34ee95c7ff41e28b8440c9689a83b</code>\nchecksum, and on <a href=\"https://hub.docker.com/layers/openzaak/open-notificaties/1.1.3/images/sha256-47d001e89b904a1d4450b0d165c072289ba34ee95c7ff41e28b8440c9689a83b?context=repo\">Docker Hub</a>\nwe find the same checksum.</p>\n</li>\n<li>\n<p><a href=\"https://github.com/open-zaak/open-notificaties/runs/2194513677?check_suite_focus=true\">1.1.4</a></p>\n<p>CI produced the <code class=\"language-text\">2532abe52a37fd8ff90dcdb3564a187be520a973fef94574740e8f340258644f</code>\nchecksum, and on <a href=\"https://hub.docker.com/layers/openzaak/open-notificaties/1.1.4/images/sha256-2532abe52a37fd8ff90dcdb3564a187be520a973fef94574740e8f340258644f?context=repo\">Docker Hub</a>\nwe find the same checksum.</p>\n</li>\n</ul>\n<p>Users of the <code class=\"language-text\">latest</code> tag should follow the advice as for Open Zaak.</p>\n<p><strong>CMIS adapter</strong></p>\n<p>While we use Codecov, we do not use the Github Action, but the global Python uploader\nfrom PyPI. This uploader was not affected.</p>\n<p><strong>vng-selectielijst</strong></p>\n<p>While we use Codecov, we do not use the Github Action, but the global Python uploader\nfrom PyPI. This uploader was not affected.</p>\n<h3>Which steps have we taken?</h3>\n<p>On April 15th, shortly after learning about the incident, we have revoked any access\ntokens/credentials exposed to Github Workflows:</p>\n<ul>\n<li>Docker access token for the <code class=\"language-text\">maykinmediaci</code> account</li>\n<li>PyPI access token for the <code class=\"language-text\">maykinmedia</code> account</li>\n</ul>\n<p>At the same time, we verified the Docker Image checksums of the Open Zaak releases.</p>\n<p>On April 16th, we verified the Open Notificaties checksums, and checked which other\nprojects could potentially be impacted. We also drafted this news article.</p>\n<p>On May 7th and the following days, the news article was published and announced on various communication\nchannels.</p>\n<h3>Questions</h3>\n<p>If you have any questions at this, do not hesitate to contact us on the Common Ground\nSlack in the #open-zaak channel. Members of the Technical Steering Group are usually\naround.</p>\n<p>If you need to report any security incidents, please follow our documented\n<a href=\"https://open-zaak.readthedocs.io/en/stable/support/security.html#reporting-security-issues\">guidelines</a>.</p>"}},"pageContext":{}},
    "staticQueryHashes": ["1641515924","3169995980","63159454"]}